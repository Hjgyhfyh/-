# Управление ботами — настольная программа для редактирования профиля Telegram‑бота

Приложение с графическим интерфейсом (GUI) на Python + Qt (PySide6) для просмотра и изменения основных сведений о боте через официальное Telegram Bot API.

---

## Назначение

Программа помогает владельцам и разработчикам ботов быстро обновлять отображаемое имя, короткое описание и полное описание бота, а также просматривать текущий аватар (фото профиля). Все операции выполняются через ваш Bot API токен.

---

## Возможности

- Ввод API‑токена и автоматическая загрузка текущих данных бота (`getMe`, `getMyName`, `getMyShortDescription`, `getMyDescription`).
- Отображение username и ID бота.
- Просмотр текущего аватара бота (через `getUserProfilePhotos` + `getFile`).
- Редактирование:
  - **Имени** (метод `setMyName`).
  - **Короткого описания** (метод `setMyShortDescription`).
  - **Полного описания** (метод `setMyDescription`).
- Современный интерфейс с анимациями (плавное появление блоков, «поп‑эффект» открытия окна), затемнённой цветовой схемой и акцентными элементами.
- Подсказки и уведомления об успешном сохранении или ошибках.

---

## Ограничения платформы Telegram

> **Важно:** Telegram Bot API **не предоставляет** методов для **программной смены аватара/обложки** бота. Программа показывает текущий аватар и позволяет редактировать текстовые поля (имя, описания). Если в будущем Telegram добавит такой метод, в приложении предусмотрено место для расширения функциональности.

---

## Технические требования

- **ОС:** Windows 10/11, macOS 12+, Linux (x64).
- **Python:** 3.9–3.12.
- **Зависимости:** `PySide6`, `requests`.
- **Сеть:** доступ к `api.telegram.org` и загрузке файлов `api.telegram.org/file/...`.

---

## Установка

1. Установите Python 3.9–3.12.
2. Создайте виртуальное окружение (рекомендуется):
   ```bash
   python -m venv .venv
   # Windows
   .venv\Scripts\activate
   # macOS/Linux
   source .venv/bin/activate
   ```
3. Установите зависимости:
   ```bash
   python -m pip install --upgrade pip wheel
   python -m pip install PySide6 requests
   ```
4. (Опционально) используйте `requirements.txt`:
   ```text
   PySide6>=6
   requests>=2.31
   ```
   Установка:
   ```bash
   python -m pip install -r requirements.txt
   ```

---

## Запуск

```bash
python main.py
```
После старта окна введите Bot API токен и нажмите **«Загрузить данные»**.

---

## Интерфейс

- **Шапка** — название приложения и напоминание о необходимости корректного токена.
- **Поле ввода токена** + кнопка **«Загрузить данные»**.
- **Карточка профиля**:
  - Превью аватара (только просмотр).
  - `@username` и `ID`.
  - Поле **Имя** + кнопка **«Сохранить имя»**.
  - Поле **Короткое описание** + кнопка **«Сохранить короткое описание»**.
  - Поле **Описание** + кнопка **«Сохранить описание»**.
  - Кнопка **«Выбрать новый аватар (предпросмотр)»** — показывает изображение в интерфейсе, **без** отправки в Telegram.
- **Уведомления** — всплывающие окна об успехе/ошибках.

### Анимации и визуальные эффекты

- Плавное появление карточек и компонентов (easing OutCubic).
- «Pop»‑анимация при открытии окна (easing OutBack).
- Градиентные карточки, полупрозрачные кнопки с эффектами наведения и нажатия.

---

## Как это работает (Bot API)

Программа использует следующие методы Telegram Bot API:

- `getMe` — базовая информация о боте (ID, username).
- `getMyName` — текущее отображаемое имя.
- `getMyShortDescription` — текущее короткое описание.
- `getMyDescription` — текущее полное описание.
- `setMyName` — установка имени.
- `setMyShortDescription` — установка короткого описания.
- `setMyDescription` — установка полного описания.
- `getUserProfilePhotos` — получение фото профиля (для отображения).
- `getFile` — получение пути к файлу аватара для скачивания и предпросмотра.

### Локализация текстов (опционально)

Методы `getMyName`/`setMyName`, `getMyShortDescription`/`setMyShortDescription`, `getMyDescription`/`setMyDescription` поддерживают параметр `language_code`. Это позволяет хранить разные тексты для разных языков. В текущей версии UI задаёт/читает значения по умолчанию (без кода языка).

---

## Безопасность

- Токен вводится локально и используется только для запросов к `api.telegram.org`.
- Токен **не сохраняется** на диск и не отправляется третьим лицам.
- Рекомендуется создавать отдельные «рабочие» токены и вовремя их отзывать при компрометации.

---

## Обработка ошибок

Примеры типовых ситуаций:

- **`ModuleNotFoundError: No module named 'PySide6'`** — не установлена зависимость. Установите `PySide6` (см. раздел «Установка»).
- **Неверный токен / 401 Unauthorized** — проверьте корректность токена или права бота.
- **Сетевая ошибка / таймаут** — проверьте интернет и доступность `api.telegram.org`.
- **Пустые поля после загрузки** — у бота могут быть не заполнены имя/описания; заполните и сохраните значения.
- **Аватар не отображается** — у бота нет фото профиля либо запрос к файлу не удался.

---

## Расширения и будущие доработки

- **Смена аватара** — появится при добавлении соответствующего метода в Bot API.
- **Мультиязычные поля** — добавить селектор `language_code` в UI и отправлять значения для конкретных языков.
- **Множественные боты** — список сохранённых токенов в зашифрованном виде (с подтверждением доступа).
- **Роли и доступ** — разделение прав в командной работе (ограничения на изменение отдельных полей).
- **Тёмная/светлая тема**, системные акцентные цвета.

---

## Архитектура кода (кратко)

- **`BotProfileApp`** — главный виджет приложения: обработка событий, сетевые вызовы, привязка данных к UI.
- **`GradientFrame`**, **`FancyButton`**, **`Input`**, **`TextArea`** — визуальные компоненты.
- **`AnimatedReveal`** — анимации появления блоков.
- **HTTP‑слой** — `requests` для `GET/POST` запросов к Bot API и скачивания изображений.
- **Модель** — `BotInfo` (ID, username, name, short_description, description).

---

## Производительность

- Все операции выполняются синхронно; для слабых каналов связи возможны паузы во время запросов.
- При необходимости можно вынести сетевые вызовы в фоновые потоки (Qt `QThread`/`QtConcurrent`) для полной отзывчивости UI.

---

## Лицензирование и правовые аспекты

- Использование приложения подразумевает соблюдение условий Telegram Bot API.
- Ответственность за хранение и использование токена несёт владелец бота.

---

## Краткая памятка пользователя

1. Запустите программу.
2. Вставьте Bot API токен.
3. Нажмите **«Загрузить данные»** — появятся текущие имя, описания и аватар.
4. Измените нужные поля и нажимайте соответствующие кнопки **«Сохранить…»**.
5. Предпросмотр аватара — только локально, смена фото через Bot API недоступна.

---

## Поддержка

- Проверяйте обновления Telegram Bot API: при появлении нового метода смены аватара функциональность будет дополнена.
- При ошибках смотрите раздел «Обработка ошибок» и лог сообщений приложения.

